import{j as e}from"./ui-B6UisXh3.js";import{g as t,e as s,r as a}from"./router-DECodpxX.js";import{u as r,e as l}from"./index-CCZHs8x9.js";import{f as i}from"./formatDataAmount-BZyhGwR3.js";import"./vendor-DEQ385Nk.js";import"./three-CdCYxwFx.js";import"./supabase-Bj79fh9f.js";import"./utils-BpqZfnrR.js";const d=({pkg:t,selected:s,onSelect:a})=>{const{t:l,language:d}=r();return e.jsxs("div",{className:"flex flex-col justify-between p-4 bg-slate-100/30 dark:bg-slate-900/50 backdrop-blur-sm border rounded-xl shadow-lg transition-all cursor-pointer h-full min-w-0 "+(s?"border-purple-500 ring-2 ring-purple-500/30":"border-white/20 hover:border-purple-500/50"),onClick:a,style:{minHeight:"110px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:i(t.data_amount)}),e.jsx("span",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center "+(s?"border-purple-500 bg-purple-500":"border-gray-400 dark:border-gray-600 bg-transparent"),children:s&&e.jsx("span",{className:"w-2 h-2 bg-white rounded-full block"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("span",{children:[t.days," ",l("days")]}),e.jsxs("span",{className:"font-bold text-base "+(s?"text-purple-600 dark:text-purple-400":"text-gray-800 dark:text-gray-200"),children:["â‚¬","number"!=typeof t.sale_price||isNaN(t.sale_price)?"0.00":t.sale_price.toFixed(2)]})]})]})},n=({message:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-4",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-red-500",children:"Error"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t})]}),o=({message:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-4",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:"No Packages"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:t})]}),c=()=>{const{slug:i}=t(),{language:c,t:m}=r(),x=s(),[u,h]=a.useState([]),[p,g]=a.useState(!0),[j,b]=a.useState(!1),[f,y]=a.useState(null),[k,N]=a.useState(""),[w,v]=a.useState("");return a.useEffect(()=>{if(!i)return;g(!0),b(!1),h([]),y(null),N(""),v("");(async()=>{var e;try{const t=`undefined/api/packages/get-section-packages?slug=${i}`,s=await fetch(t),a=await s.json();if(Array.isArray(a)&&a.length>0)return h(a),y((null==(e=a[0])?void 0:e.id)||null),N(l(i)),v(""),void g(!1);h([]),g(!1)}catch(t){b(!0),g(!1)}})()},[i,c]),p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white/30 border-t-white mb-4"}),e.jsx("div",{className:"text-xl text-gray-800 dark:text-gray-200",children:"Loading packages..."})]}):j?e.jsx(n,{message:"Couldn't load packages."}):0===u.length?e.jsx(o,{message:`No offers for "${i}"`}):e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8 mt-12",children:[w&&e.jsx("img",{src:w,alt:k,className:"w-20 h-14 rounded shadow mb-4"}),e.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:k})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-start",children:[e.jsx("div",{className:"flex justify-center items-start w-full h-full mt-0 md:-mt-8",children:e.jsx("img",{src:"/static/esimfly-plane-beach.jpg",alt:"e-SimFly airplane on beach",className:"rounded-2xl shadow-lg w-full max-w-lg md:max-w-xl aspect-square object-cover object-center border border-white/10",style:{minHeight:"300px",maxHeight:"500px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:u.map(t=>e.jsx(d,{pkg:t,selected:f===t.id,onSelect:()=>y(t.id)},t.id))}),e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:opacity-90 text-white text-lg font-bold py-3 rounded-full shadow-lg transition-all duration-200 mb-5 disabled:opacity-50 disabled:cursor-not-allowed",style:{letterSpacing:"0.03em"},onClick:()=>{f&&x(`/checkout?country=${i}&package=${f}`)},disabled:!f,children:m("buy_now")}),e.jsx("div",{className:"bg-slate-100/30 dark:bg-slate-900/50 backdrop-blur-sm border border-white/20 rounded-xl p-5 text-gray-800 dark:text-gray-200 text-base shadow-lg",children:e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Mos u shqetÃ«so nÃ«se ke ndonjÃ« problem me aktivizimin â€“ ose e rregullojmÃ« menjÃ«herÃ«, ose tÃ« kthejmÃ« paratÃ«. Pa stres, rimbursim i plotÃ«! ğŸ˜Š"}),e.jsx("li",{children:"Zgjidh planin qÃ« tÃ« shkon mÃ« shumÃ« dhe aktivizoje kur tÃ« duash â€“ nuk ka afat skadimi, ai tÃ« pret derisa tÃ« jesh gati."}),e.jsx("li",{children:"Pagesa Ã«shtÃ« super e lehtÃ« dhe e sigurt â€“ pÃ«rdorim vetÃ«m platformat mÃ« tÃ« besueshme, kÃ«shtu qÃ« je gjithmonÃ« i mbrojtur."}),e.jsx("li",{children:"Dhe po, jemi kÃ«tu pÃ«r ty 24/7! Na shkruaj kur tÃ« kesh pyetje apo ndonjÃ« problem â€“ pÃ«rgjigjemi shpejt dhe me kÃ«naqÃ«si."})]})})]})]})]})]})};export{c as default};
