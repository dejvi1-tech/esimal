import{j as e}from"./ui-B6UisXh3.js";import{r as s,e as a}from"./router-DECodpxX.js";import{g as t,d as r}from"./index-C7ohyb4E.js";import{o as i,s as n}from"./types-G7CTAjld.js";import"./vendor-DEQ385Nk.js";import"./three-CdCYxwFx.js";import"./supabase-Bj79fh9f.js";import"./utils-BpqZfnrR.js";const l=i({username:n().min(3,"Username is required"),password:n().min(3,"Password is required")}),d=()=>{const[i,n]=s.useState(""),[d,m]=s.useState(""),[o,c]=s.useState(!1),[u,x]=s.useState(""),p=a();return e.jsx("div",{className:"min-h-screen bg-[#4B0082] text-white flex items-center justify-center",children:e.jsxs("div",{className:"glass-medium p-8 md:p-12 rounded-2xl mx-auto max-w-md w-full text-white",children:[e.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-2",children:"Admin Login"}),e.jsx("p",{className:"text-gray-200 text-center mb-6",children:"Access the admin panel"}),e.jsxs("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault(),c(!0),x("");const s=l.safeParse({username:i,password:d});if(!s.success)return x(s.error.errors[0].message),void c(!1);const a={username:i,password:d};try{const e=await t("POST"),s=await fetch("/api/admin/login",{method:"POST",headers:e,credentials:"include",body:JSON.stringify(a)});if(s.ok)r.success("Login successful!"),p("/admin");else{const e=await s.json();r.error(e.message||"Login failed"),x(e.message||"Login failed")}}catch(n){const e="Network error. Please try again.";x(e),r.error(e)}finally{c(!1)}},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white",children:"Username"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"username",name:"username",type:"text",value:i,onChange:e=>n(e.target.value),className:"input-glass w-full text-white placeholder-gray-300",placeholder:"Enter username"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"password",name:"password",type:"password",value:d,onChange:e=>m(e.target.value),className:"input-glass w-full text-white placeholder-gray-300",placeholder:"Enter password"})})]}),u&&e.jsx("div",{className:"modal-glass p-4 rounded-2xl max-w-lg mx-auto text-red-400",children:u}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"btn-glass bg-accent text-black w-full py-3 rounded-xl text-center",children:o?"Signing in...":"Sign in"})})]})]})})};export{d as default};
