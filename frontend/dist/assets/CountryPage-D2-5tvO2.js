import{j as e}from"./ui-B6UisXh3.js";import{g as a,e as t,r as s,L as r}from"./router-DECodpxX.js";import{u as i,e as l}from"./index-enCYVUS_.js";import{f as n}from"./formatDataAmount-BZyhGwR3.js";import"./vendor-DEQ385Nk.js";import"./three-CdCYxwFx.js";import"./supabase-Bj79fh9f.js";import"./utils-BpqZfnrR.js";const o=e=>({"United States":"us","United Kingdom":"gb",Germany:"de",France:"fr",Italy:"it",Spain:"es",Netherlands:"nl",Belgium:"be",Switzerland:"ch",Austria:"at",Denmark:"dk",Norway:"no",Sweden:"se",Finland:"fi",Poland:"pl","Czech Republic":"cz",Hungary:"hu",Romania:"ro",Bulgaria:"bg",Croatia:"hr",Slovenia:"si",Slovakia:"sk",Lithuania:"lt",Latvia:"lv",Estonia:"ee",Ireland:"ie",Portugal:"pt",Greece:"gr",Cyprus:"cy",Malta:"mt",Luxembourg:"lu",Iceland:"is",Albania:"al","Bosnia and Herzegovina":"ba",Serbia:"rs",Montenegro:"me","North Macedonia":"mk",Kosovo:"xk",Moldova:"md",Ukraine:"ua",Belarus:"by",Russia:"ru",Turkey:"tr",Dubai:"ae","United Arab Emirates":"ae","Saudi Arabia":"sa",Qatar:"qa",Kuwait:"kw",Bahrain:"bh",Oman:"om",Jordan:"jo",Lebanon:"lb",Israel:"il",Egypt:"eg",Morocco:"ma",Tunisia:"tn",Algeria:"dz",Libya:"ly",Sudan:"sd","South Africa":"za",Nigeria:"ng",Kenya:"ke",Ghana:"gh",Ethiopia:"et",Uganda:"ug",Tanzania:"tz",Rwanda:"rw",Burundi:"bi",Cameroon:"cm",Chad:"td",Niger:"ne",Mali:"ml","Burkina Faso":"bf",Senegal:"sn",Guinea:"gn","Sierra Leone":"sl",Liberia:"lr","Ivory Coast":"ci",Gambia:"gm","Guinea-Bissau":"gw","Cape Verde":"cv",Mauritania:"mr",Mauritius:"mu",Seychelles:"sc",Comoros:"km",Madagascar:"mg",Malawi:"mw",Zambia:"zm",Zimbabwe:"zw",Botswana:"bw",Namibia:"na",Lesotho:"ls",Eswatini:"sz",Mozambique:"mz",Angola:"ao","Democratic Republic of the Congo":"cd","Republic of the Congo":"cg","Central African Republic":"cf",Gabon:"ga","Equatorial Guinea":"gq","SÃ£o TomÃ© and PrÃ­ncipe":"st",China:"cn",Japan:"jp","South Korea":"kr","North Korea":"kp",Taiwan:"tw","Hong Kong":"hk",Macau:"mo",Mongolia:"mn",Vietnam:"vn",Laos:"la",Cambodia:"kh",Thailand:"th",Myanmar:"mm",Malaysia:"my",Singapore:"sg",Indonesia:"id",Philippines:"ph",Brunei:"bn","East Timor":"tl","Papua New Guinea":"pg",Australia:"au","New Zealand":"nz",Fiji:"fj",Vanuatu:"vu","New Caledonia":"nc","Solomon Islands":"sb",Kiribati:"ki",Tuvalu:"tv",Nauru:"nr",Palau:"pw",Micronesia:"fm","Marshall Islands":"mh",Samoa:"ws",Tonga:"to","Cook Islands":"ck",Niue:"nu",Tokelau:"tk","American Samoa":"as",Guam:"gu","Northern Mariana Islands":"mp",Canada:"ca",Mexico:"mx",Brazil:"br",Argentina:"ar",Chile:"cl",Peru:"pe",Colombia:"co",Venezuela:"ve",Ecuador:"ec",Bolivia:"bo",Paraguay:"py",Uruguay:"uy",Guyana:"gy",Suriname:"sr","French Guiana":"gf","Falkland Islands":"fk","South Georgia":"gs",Antarctica:"aq",Europe:"eu"}[e]||"un"),d=({pkg:a,selected:t,onSelect:s})=>{const{t:r}=i();return e.jsxs("div",{className:"flex flex-col justify-between p-4 bg-slate-100/30 dark:bg-slate-900/50 backdrop-blur-sm border rounded-xl shadow-lg transition-all cursor-pointer h-full min-w-0 "+(t?"border-purple-500 ring-2 ring-purple-500/30":"border-white/20 hover:border-purple-500/50"),onClick:s,style:{minHeight:"110px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:n(a.data_amount)}),e.jsx("span",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center "+(t?"border-purple-500 bg-purple-500":"border-gray-400 dark:border-gray-600 bg-transparent"),children:t&&e.jsx("span",{className:"w-2 h-2 bg-white rounded-full block"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("span",{children:[a.days," ",r("days")]}),e.jsxs("span",{className:"font-bold text-base "+(t?"text-purple-600 dark:text-purple-400":"text-gray-800 dark:text-gray-200"),children:["â‚¬","number"!=typeof a.sale_price||isNaN(a.sale_price)?"0.00":a.sale_price.toFixed(2)]})]})]})},c=({message:a})=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-4",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-red-500",children:"Error"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a})]}),m=({message:a})=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-4",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:"No Packages"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:a})]}),u=()=>{const{slug:n}=a(),{language:u,t:h}=i(),x=t(),[g,p]=s.useState([]),[b,j]=s.useState(!0),[f,y]=s.useState(!1),[w,k]=s.useState(null),[v,N]=s.useState(""),[,S]=s.useState("");return s.useEffect(()=>{if(!n)return;j(!0),y(!1),p([]),k(null),N(""),S("");(async()=>{var e;try{const a=`/api/packages/get-section-packages?slug=${n}`,t=await fetch(a),s=await t.json();if(Array.isArray(s)&&s.length>0)return p(s),k((null==(e=s[0])?void 0:e.id)||null),N(l(n)),S(""),void j(!1);p([]),j(!1)}catch(a){y(!0),j(!1)}})()},[n,u]),b?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white/30 border-t-white mb-4"}),e.jsx("div",{className:"text-xl text-gray-800 dark:text-gray-200",children:"Loading packages..."})]}):f?e.jsx(c,{message:"Couldn't load packages."}):0===g.length?e.jsx(m,{message:`No offers for "${n}"`}):e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 w-full bg-[#4B0082]/95 backdrop-blur-md border-b border-white/10",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs(r,{to:"/",className:"flex items-center space-x-3 group hover:opacity-90 transition-opacity",children:[e.jsx("div",{className:"flex items-center justify-center bg-gradient-to-br from-purple-700 via-purple-500 to-indigo-600 shadow-lg rounded-2xl p-1",style:{height:60,width:60,minWidth:60},children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/esimflylogo.webp",type:"image/webp"}),e.jsx("img",{src:"/esimflylogo.webp",alt:"e-SimFly Logo",className:"h-[52px] w-[52px] object-contain rounded-xl drop-shadow-md",style:{background:"rgba(80, 0, 120, 0.15)",objectFit:"contain",objectPosition:"center",transform:"scale(3)"}})]})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-xl sm:text-2xl font-extrabold tracking-tight text-white font-orbitron",style:{letterSpacing:"0.01em"},children:["e-",e.jsx("span",{className:"font-black",children:"SimFly"})]}),e.jsx("span",{className:"text-xs text-gray-200 font-medium font-orbitron",children:"Global eSIM Solutions"})]})]}),e.jsx("div",{})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12 pt-32",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-start",children:[e.jsx("div",{className:"flex flex-col items-start w-full h-full mt-0 md:mt-16",children:e.jsx("div",{className:"bg-white/90 rounded-3xl shadow-2xl border border-gray-100 max-w-lg md:max-w-xl w-full mx-auto flex items-center justify-center overflow-hidden h-32 md:h-auto max-h-40 md:max-h-56 hidden sm:flex",style:{aspectRatio:"3/4",minHeight:"120px",maxHeight:"600px"},children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/panda.webp",type:"image/webp"}),e.jsx("img",{src:"/panda.webp",alt:"e-SimFly Hero Panda",className:"w-full h-full object-cover",style:{objectFit:"cover",height:"100%",width:"100%"}})]})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-6",style:{marginTop:"32px"},children:[e.jsx("img",{src:"Albania"===v?"https://flagcdn.com/w40/al.png":`https://hatscripts.github.io/circle-flags/flags/${o(v)}.svg`,alt:`${v} flag`,className:"w-6 h-6 rounded-full object-cover",style:{borderRadius:"50%",width:"24px",height:"24px",objectFit:"cover"}}),e.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-200 ml-2",children:v})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:g.map(a=>e.jsx(d,{pkg:a,selected:w===a.id,onSelect:()=>k(a.id)},a.id))}),e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:opacity-90 text-white text-lg font-bold py-3 rounded-full shadow-lg transition-all duration-200 mb-5 disabled:opacity-50 disabled:cursor-not-allowed",style:{letterSpacing:"0.03em"},onClick:()=>{w&&x(`/checkout?country=${n}&package=${w}`)},disabled:!w,children:h("buy_now")}),e.jsx("div",{className:"bg-slate-100/30 dark:bg-slate-900/50 backdrop-blur-sm border border-white/20 rounded-xl p-5 text-gray-800 dark:text-gray-200 text-base shadow-lg",children:e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Mos u shqetÃ«so nÃ«se ke ndonjÃ« problem me aktivizimin â€“ ose e rregullojmÃ« menjÃ«herÃ«, ose tÃ« kthejmÃ« paratÃ«. Pa stres, rimbursim i plotÃ«! ğŸ˜Š"}),e.jsx("li",{children:"Zgjidh planin qÃ« tÃ« shkon mÃ« shumÃ« dhe aktivizoje kur tÃ« duash â€“ nuk ka afat skadimi, ai tÃ« pret derisa tÃ« jesh gati."}),e.jsx("li",{children:"Pagesa Ã«shtÃ« super e lehtÃ« dhe e sigurt â€“ pÃ«rdorim vetÃ«m platformat mÃ« tÃ« besueshme, kÃ«shtu qÃ« je gjithmonÃ« i mbrojtur."}),e.jsx("li",{children:"Dhe po, jemi kÃ«tu pÃ«r ty 24/7! Na shkruaj kur tÃ« kesh pyetje apo ndonjÃ« problem â€“ pÃ«rgjigjemi shpejt dhe me kÃ«naqÃ«si."})]})})]})]})]})})]})};export{u as default};
